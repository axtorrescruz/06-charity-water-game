:root{
  --sky:#9fd8ea;
  --ocean:#0ea6d3;
  --ocean-surface:#01a1e0;
  --ocean-polluted:#2a8f3f;
  --cloud:#6f6f6f;
  --sun:#ffe000;
  --accent:#ff7a00;
  --white: #ffffff;
  --danger:#e42b2b;
  --clean-blue-1: #2ec8ff;
  --clean-blue-2: #1caee6;
  --polluted-green-1: #40d06d;
  --polluted-green-2: #0fa146;
}

*{box-sizing:border-box; margin:0; padding:0}
html,body,#game{height:100%}
body{
  font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background:var(--sky);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

body.dark-sky {
  background: #3a4c5a;
}

.sun.hidden {
  display: none;
}

/* Game container */
#game{
  position:relative;
  width:100%;
  height:100vh;
  overflow:hidden;
}

/* Sun (centered circle, doubled size, half visible) */
.sun{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  top:-30vmin;         /* move up by half the sun's size so only half shows */
  width:70vmin;        /* doubled from 30vmin */
  height:70vmin;       /* keep it a perfect circle */
  background:var(--sun);
  border:6px solid #0003;
  border-radius:50%;
  box-shadow:0 4px 0 rgba(0,0,0,0.12) inset;
}

/* HUD (top-left) */
.hud{
  position:absolute;
  top:14px;
  left:14px;
  display:flex;
  gap:18px;
  align-items:center;
}
.water-can{
  width:48px;
  height:40px;
  object-fit:contain;
  display:block;
}
.score-display{
  font-size:28px;
  color:var(--white);
  font-weight:600;
  text-shadow: 0 2px 0 rgba(0,0,0,0.15);
}

/* Lives (top-right X icons) */
.lives{
  position:absolute;
  top:18px;
  right:18px;
  display:flex;
  gap:10px;
}
.life-x{
  font-weight:900;
  color:var(--danger);
  text-shadow:0 1px 0 rgba(0,0,0,0.1);
  font-size:44px;
  line-height:1;
  transform:translateY(-2px);
}

/* Cloud row - lowered a bit (from 8% -> 12%) */
.cloud-row{
  position:absolute;
  top:12%;
  left:50%;
  transform:translateX(-50%);
  width:85%;
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  pointer-events:none; /* clouds won't block clicks */
}

.cloud-row.hidden {
  display: none;
}

/* Cloud style */
.cloud{
  width:10%;
  min-width:60px;
  aspect-ratio: 2.6 / 1;
  background:var(--cloud);
  border-radius:50% 50% 40% 40%;
  box-shadow:0 0 0 6px rgba(0,0,0,0.05) inset, 0 6px 0 rgba(0,0,0,0.12);
  position:relative;
  border:3px solid rgba(0,0,0,0.12);
}
.cloud::before, .cloud::after{
  content:'';
  position:absolute;
  background:var(--cloud);
  border-radius:50%;
}
.cloud::before{
  width:70%;
  height:70%;
  left:-20%;
  top:-30%;
}
.cloud::after{
  width:55%;
  height:55%;
  right:-10%;
  top:-20%;
}

/* Ocean at bottom */
#ocean{
  position:absolute;
  left:0;
  right:0;
  bottom:0;
  height:22%;
  background:var(--ocean-surface);
  border-top:4px solid rgba(0,0,0,0.18);
  display:block;
  overflow:hidden;
}
#ocean.polluted{
  background:var(--ocean-polluted);
}

/* A thin darker rectangle above the ocean to visually separate */
#ocean-surface-marker{
  width:100%;
  height:100%;
}

/* Click layer covers whole game (captures taps) */
#click-layer{
  position:absolute;
  left:0;right:0;top:0;bottom:0;
  z-index:50;
  /* transparent */
}

/* Welcome overlay */
#welcome{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background:rgba(255,255,255,0.9);
  color:#0b2a34;
  border-radius:12px;
  padding:26px 32px;
  text-align:center;
  box-shadow:0 8px 30px rgba(0,0,0,0.15);
  z-index:100;
}
#welcome h1{
  font-size:30px;
  margin-bottom:6px;
}
#welcome .sponsor{
  font-size:14px;
  color:#666;
  margin-bottom:16px;
}
#welcome button{
  background:var(--accent);
  color:#fff;
  border:none;
  padding:10px 18px;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}
#welcome .hint{font-size:13px;color:#444;margin-top:12px}

/* Halfway message */
#halfwayMsg{
  position:absolute;
  left:50%;
  top:40%;
  transform:translate(-50%,-50%);
  background:rgba(0,0,0,0.65);
  color:var(--white);
  padding:12px 18px;
  border-radius:10px;
  font-weight:700;
  font-size:20px;
  z-index:115;
  box-shadow:0 8px 20px rgba(0,0,0,0.28);
  opacity:0;
  transition:opacity 300ms ease;
}
#halfwayMsg.visible { opacity:1; }

/* End screen overlay */
#endScreen{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  background:rgba(255,255,255,0.95);
  padding:28px;
  border-radius:12px;
  text-align:center;
  z-index:120;
  box-shadow:0 12px 36px rgba(0,0,0,0.18);
}
.hidden{display:none}
#endScreen h2{font-size:28px;margin-bottom:8px}
#endScreen button{
  background:var(--accent);
  color:white;border:none;padding:8px 14px;border-radius:8px;font-size:15px;
}

/* Raindrop container */
.raindrop{
  position:absolute;
  width:34px;    /* container width */
  height:48px;   /* container height */
  pointer-events:none; /* clicks handled globally */
  z-index:40;
  transition: top linear;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Inline SVG inside the container fills space and provides the teardrop shape */
.raindrop svg{
  width:100%;
  height:100%;
  display:block;
}
.raindrop svg path.drop-shape{
  stroke: rgba(0,0,0,0.16);
  stroke-width:2;
  stroke-linejoin:round;
  stroke-linecap:round;
  /* fill set per type below */
}
.raindrop.clean svg path.drop-shape{
  fill: url(#cleanGradient); /* gradient id present inline in the SVG; fallback below */
}
.raindrop.polluted svg path.drop-shape{
  fill: url(#pollutedGradient);
}
/* fallback fills in case gradient fails */
.raindrop.clean svg path.drop-shape[fill=""] { fill: var(--clean-blue-1); }
.raindrop.polluted svg path.drop-shape[fill=""] { fill: var(--polluted-green-1); }

/* small white highlight path inside SVG will show a glossy reflection */
.raindrop svg path.shine { fill: rgba(255,255,255,0.9); opacity: 0.95; }

/* Ripple animation */
.ripple{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:14px; /* will be repositioned by JS per click */
  width:20px;
  height:20px;
  border-radius:50%;
  border:3px solid rgba(255,255,255,0.95);
  opacity:1;
  z-index:45;
  animation: ripple 900ms ease-out forwards;
}
@keyframes ripple {
  0% { transform: translateX(-50%) scale(0.7); opacity:0.95; }
  40% { transform: translateX(-50%) scale(1.3); opacity:0.9; }
  100% { transform: translateX(-50%) scale(3.8); opacity:0; }
}

/* (removed old in-game footer link styles) */

/* small responsive tweaks */
@media (max-width:480px){
  .score-display{font-size:20px}
  .life-x{font-size:36px}
  .cloud{min-width:44px}
  .raindrop{width:28px;height:40px}
}

/* Footer stays fixed at bottom */
#footer {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  text-align: center;
  background: rgba(0, 0, 0, 0.15);
  color: white;
  padding: 8px 0;
  font-size: 14px;
  backdrop-filter: blur(6px);
  z-index: 200;
}

#footer a {
  color: var(--white);
  text-decoration: none;
  margin: 0 6px;
}

#footer a:hover {
  text-decoration: underline;
}
